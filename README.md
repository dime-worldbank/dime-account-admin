# DIME GitHub Usage Guidelines

#### Git/GitHub trainings resources

This repo includes instructions related to DIME's GitHub account.
For Git/GitHub trainings resources see here see [here](https://osf.io/e54gy/).  

## Read first: Two different accounts - different instructions:

DIME repos are typically hosted on the DIME account:
https://github.com/dime-worldbank.
However, a few repos are hosted on the WB account:
https://github.com/worldbank.

Instructions are different depending on whether they
are for repos hosted on the DIME account,
or for repos hosted on the WB account.
Each instruction page will say at the top of it
whether it is for the DIME account or the WB account.
**You therefore need to make sure that
you know which account your repo is hosted in.**

If your repo is hosted on the DIME account
the URL to your repo starts with
https://github.com/dime-worldbank/ and if it starts with
https://github.com/worldbank/ it is hosted on the WB account.
If it starts with something else,
it is not hosted in an account managed by DIME Analytics.

## Instructions

**Skip to section:**
* [Repo access](#repo-access) - external or internal collaborators
* [Repo creation](#repo-creation)

**Access to resources**
Many resources and instructions linked to are only available
with people already added as members to the DIME Account.
This applies to links that are followed by:
"_page only open to DIME account members_".
If you are added to the DIME account but
get a 404 error when clicking the link,
then make sure that you are logged in to GitHub.com
in the browser you are using.
If it says "_Sign up_"/"_Sign in_" at the top of the page,
then you are not logged in to any account in that browser.
If you still think something is wrong,
send an email to DIME Analytics with
your GitHub username and a link to page where
you see the link that gives a 404 error when you click it.

### Repo access

Read general access info and then
scroll down for links to specific instructions.

#### General repo access info:

**Access for external collaborators:**
External collaborators can be added to one or several individual repos.
This give them the same type of access as DIME members
for the specific repo they are added to.
They do not get access to shared resources hosted on the account.
For instructions, see links below in the
DIME or WB account section depending on where your repos is hosted.

**Access for internal collaborators:**
Internal collaborators are not added to individual repos.
They are added as members to the account,
and then added to GitHub teams.
The GitHub teams are added to repos,
and everyone who is a member of a GitHub team used for a repo,
has access to that repo.
Someone for the project is made maintainer of the GitHub team,
such that they can give and revoke access to a repo
by adding and removing someone from the team,
without needing to ask DIME Analytics to help.
Read more about how DIME use GitHub teams
[here](../resources/why-use-teams.md).
For instructions, see links below in the
DIME or WB account section depending on where your repos is hosted.

#### DIME Account - Access instructions links:

These instructions applies to repos with URLs starting with:
https://github.com/dime-worldbank

**Internal - become member:** [Request to be added to the DIME account](../instructions/dime-become-member.md) -
_page open to public_.
Click the link for info on
how to request to be added to the DIME account,
who can request to be come member,
how to get access to repos once becoming a member, etc.

**Internal - get access to a repo:**
[Request to be added to team to get access to repo](LINKLINK) -
_page only open to DIME account members_.
Click the link for info on how to look up
what team is used to give access to a repo,
and who is the maintainer for that team.
The maintainer is the person you should ask to add you to that team.

**External - get access to a repo:** [Request for someone else to be added as external collaborator](LINKLINK) -
_page only open to DIME account members_.
Click the link for info on the steps required to request that
and external collaborator will be added to one or several repos.
Note that the email to add an external collaborator needs to
be sent to DIME Analytics from DIME member who
is TTL for the project or who has access to the repo already.


#### WB Account - Access instructions links:

These instructions applies to repos with URLs starting with:
https://github.com/worldbank

**Internal collaborator access:**
[eServices request to request access to WB account](https://worldbankgroup.service-now.com/wbg?id=wbg_sc_catalog&sys_id=910e1739db1a54903c5960ab13961912) -
_page open to anyone with access to WB intranet_.
After the eServices request is approved,
and you have accepted the system generated invitation,
then you need to be added to a team to get access to repos.
Read more about that
[here](../resources/why-use-teams.md).

**External collaborator access:** [Request for someone else to be added as external collaborator](LINKLINK) -
_page only open to DIME account members_.
Click the link for info on the steps required to request that
and external collaborator will be added to one or several repos.
Note that the email to add an external collaborator needs to
be sent from WB member who has access to the repo already.

### Repo creation

This repo includes instructions related to DIME's GitHub repos.
For general GitHub resources, including all of DIME Analytics GitHub trainings,
see [here](https://osf.io/e54gy/).  

## Table of Content

* [Why are GitHub teams used for access to repos?](#why-are-github-teams-used-to-provide-access-to-repos)
* [Actions for the DIME account](#actions-for-the-dime-account).
Join the DIME Github account, invite external collaborators, create a new repo.
* [Actions for the WB account](#actions-for-the-wb-account).
Join the WB GitHub account, invite external collaborators, create a new repo.
* [Why does DIME use both a DIME account and a WB account?](#why-does-dime-use-both-the-dime-account-and-the-wb-account)


## Actions for the DIME account

These instructions only applies to repos hosted on the DIME account.
Most DIME repos are hosted on the DIME account but not all
([read more here](#why-does-dime-use-both-the-dime-account-and-the-wb-account)).
Your repo is hosted on the DIME account if it has `dime-worldbank` in its URL.
For example: https://github.com/dime-worldbank/dime-account-admin.
(If your repo says `worldbank` instead of `dime-worldbank` then use
[these instructions](#actions-for-the-wb-account) instead.

#### Request to join the DIME account

This request is open to you if you are mapped to any of the DIME units.
You may also use this request if you have a World Bank email,
have a DIME supervisor (even though you are not mapped to DIME), and
you work extensively on a DIME project that has a repo on the DIME account,
If you are not sure if this applies to you, then talk to your DIME supervisor.
If anything of this does not apply to you, then ask your DIME contact to request
[external collaborator access](#request-external-collaborator-access-to-a-repo-on-the-dime-account)
on your behalf.

If this request applies to you, then you find the instructions for this request
[here](https://github.com/dime-worldbank/dime-account-admin/blob/main/instructions/request-access-dime-org.md).
This page is open to anyone.

#### Request access to a specific repo once you are a member of the DIME account

On the DIME account we use GitHub teams to manage access to specific repos
for users who are added to the DIME account.
You can read about GitHub teams on the DIME account
[here](#why-are-github-teams-used-to-provide-access-to-repos).
DIME Analytics sets up these teams,
and assign someone from the team to be _team maintainer_.
From that point it is the team maintainer who adds and remove users
to and from that team in order to give and revoke access
to the repos that team is used for.

If you do not know which team is used for the repo you want access to,
then you can see reports for all repos on the DIME account
[here](https://github.com/dime-worldbank/dime-account-admin-private/tree/main/reports/repo-reports).
In these reports you can see which team or teams are used to give access.
And from there you can click yourself to the report for that team
and see who is the team maintainer.
You can then reach out to that team maintainer and ask to be added to that team.


#### Request external collaborator access to a repo on the DIME account

If you are mapped to any of the DIME units you can request that
an external collaborator is invited to
one or several of your project team's repo.
This requires you sending an email with the terms and conditions
to the external collaborator, who then replies to that email to you
saying they accept the terms and conditions.
Then you forward that email to DIME Analytics who then
invite the external collaborator to that or those repos.

DIME Analytics pays a small fee for
each external collaborator added to private repos.
We therefore ask the DIME teams to only request access
for external collaborators who actually needs access to the repo.
We are not charged for external collaborators
that are only added to public repos.
We are never charged more than once per external collaborator
no matter how many private repos they are given access to.

The terms and conditions to send to the external collaborators
and more details about this request can be found
[here](https://github.com/dime-worldbank/dime-account-admin-private/blob/main/instructions/add-external-collaborator-dime-org.md).
This page is only visible to users currently logged in to GitHub.com
with a GitHub account already added to the DIME GitHub account.
If you cannot see the page and it says "_Sign up_"/"_Sign in_" at
the top of the page, then you are currently not signed to GitHub.com
with any account in the browser you are currently using.
Reach out to DIME Analytics if think you should be able to see it,
but are not able to do so.

#### Request a new repo to be created on the DIME account

If you are mapped to a DIME unit you can request that
a new repo is created for your team.
You find instructions for requesting the creation of a repo on the DIME account
[here](https://github.com/dime-worldbank/dime-account-admin-private/blob/main/instructions/request-new-repo-dime-org.md)
This page is only visible to users currently logged in to GitHub.com
with a GitHub account already added to the DIME GitHub account.
If you cannot see the page and it says "_Sign up_"/"_Sign in_" at
the top of the page, then you are currently not signed to GitHub.com
with any account in the browser you are currently using.
Reach out to DIME Analytics if think you should be able to see it,
but are not able to do so.

## Actions for the WB account

These instructions only applies to repos hosted on the WB account.
Your repo is hosted on the DIME account if it has `worldbank` in its URL.
For example: https://github.com/worldbank/ietoolkit.
(If your repo says `dime-worldbank` instead of `worldbank` then use
[these instructions](#actions-for-the-dime-account) instead.

Anyone with an active WB contract can join the WB account by using this
[eServices request](https://worldbankgroup.service-now.com/wbg?id=wbg_sc_catalog&sys_id=910e1739db1a54903c5960ab13961912).
This page is only visible if you have access to the WB intranet.

Requests for new repos and adding external collaborators to the repos hosted on the WB account can be found [here](https://github.com/dime-worldbank/dime-account-admin-private/blob/main/instructions/wb-github-account.md)
This page is only visible to users currently logged in to GitHub.com
with a GitHub account already added to the DIME GitHub account.
If you cannot see the page and it says "_Sign up_"/"_Sign in_" at
the top of the page, then you are currently not signed to GitHub.com
with any account in the browser you are currently using.
Reach out to DIME Analytics if think you should be able to see it,
but are not able to do so.

## Why does DIME use both the DIME account and the WB account?

Initially there was just the WB account (https://github.com/worldbank).
Eventually, DIME projects used almost half of the quota
of the WB account subscription,
making it difficult for other teams to use the WB account.
Therefore DIME Analytics ended up
creating its own account (https://github.com/dime-worldbank).

Today, most DIME repos has been moved to the DIME account,
and it should be the default location for all new repos.
Private repos should be created on the DIME account.
It is the least amount of work for everyone involved if public repos
are also created on the DIME account,
but if the team has a preference to create them on the WB account,
then that is a possibility.
The repos created on the WB account in the past that are still on that account,
are public repos for which the URL had already been widely published.
For example, repos with open source tools or reproducibility packages.

The one exception when private repos can be created on the WB account
is if the project is a collaboration with non-DIME WB teams.
DIME Analytics pays a small fee for each month for each user
on private repos on the DIME account.
In cases where there are about as many non-DIME WB users as DIME users,
then it is more appropriate that the repo
sits on the WB account using the WB subscription.
